--------------------------------------------------------
-- Archivo creado  - martes-noviembre-29-2022   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table ESCUELA
--------------------------------------------------------

  CREATE TABLE "RECIBO"."ESCUELA" 
   (	"ID_ESCUELA" VARCHAR2(10 BYTE), 
	"NOMBREESCUELA" VARCHAR2(30 BYTE), 
	"DIRECCIONESCUELA" VARCHAR2(20 BYTE), 
	"TELEFONO" VARCHAR2(12 BYTE), 
	"CORREOESCUELA" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for Table ESTUDIANTE
--------------------------------------------------------

  CREATE TABLE "RECIBO"."ESTUDIANTE" 
   (	"ID_ESTUDIANTE" VARCHAR2(10 BYTE), 
	"NOMBREESTUDIANTE" VARCHAR2(20 BYTE), 
	"APELLIDOESTUDIANTE" VARCHAR2(20 BYTE), 
	"SEXO" CHAR(1 BYTE), 
	"PERIODOESCUELA" VARCHAR2(20 BYTE), 
	"ID_ESCUELA" VARCHAR2(10 BYTE), 
	"ID_GRADO" VARCHAR2(10 BYTE), 
	"TIENERECIBO" CHAR(1 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for Table GRADO
--------------------------------------------------------

  CREATE TABLE "RECIBO"."GRADO" 
   (	"ID_GRADO" VARCHAR2(10 BYTE), 
	"GRUPOCURSO" VARCHAR2(10 BYTE), 
	"GRADO_ES" VARCHAR2(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for Table HISTORIALRECIBOS
--------------------------------------------------------

  CREATE TABLE "RECIBO"."HISTORIALRECIBOS" 
   (	"ID_ESTUDIANTE" VARCHAR2(10 BYTE), 
	"ID_RECIBO" VARCHAR2(10 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for Table MATRICULA
--------------------------------------------------------

  CREATE TABLE "RECIBO"."MATRICULA" 
   (	"ID_MATRICULA" NUMBER, 
	"VALORMATRICULA" NUMBER, 
	"FECHAMATRICULA" DATE, 
	"ID_ESTUDIANTE" VARCHAR2(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for Table RECIBO
--------------------------------------------------------

  CREATE TABLE "RECIBO"."RECIBO" 
   (	"ID_RECIBO" VARCHAR2(15 BYTE), 
	"FECHAIMPRESION" DATE, 
	"OBSERVACIONES" VARCHAR2(50 BYTE), 
	"FECHALIMITE" DATE, 
	"FECHAEXTRAORDINARIA" DATE, 
	"ID_MATRICULA" NUMBER, 
	"CONCEPTO" VARCHAR2(30 BYTE), 
	"BANCO" VARCHAR2(30 BYTE), 
	"ESTADO" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS" ;
--------------------------------------------------------
--  DDL for View RECIBOSGENERADOS
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "RECIBO"."RECIBOSGENERADOS" ("NOMBREESCUELA", "ID_ESTUDIANTE", "ID_RECIBO", "VALORMATRICULA", "CONCEPTO", "FECHALIMITE", "ESTADO", "BANCO", "OBSERVACIONES") AS 
  select es.nombreescuela,e.id_estudiante,r.id_recibo,m.valormatricula,r.concepto,r.fechalimite,r.estado,r.banco,r.observaciones
From escuela es left join estudiante e on (e.id_escuela=es.id_escuela)
left join matricula m on (e.id_estudiante=m.id_estudiante)
left join recibo r on(m.id_matricula=r.id_matricula)where r.id_recibo is not null
;
--------------------------------------------------------
--  DDL for View VERESTUDIANTES
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "RECIBO"."VERESTUDIANTES" ("ID_ESTUDIANTE", "NOMBREESTUDIANTE", "APELLIDOESTUDIANTE", "SEXO", "GRUPOCURSO", "GRADO_ES", "PERIODOESCUELA", "NOMBREESCUELA", "TIENERECIBO", "ID_ESCUELA") AS 
  select e.id_estudiante,e.nombreestudiante,e.apellidoestudiante,e.sexo,g.grupocurso,g.grado_es,
e.periodoescuela,es.nombreescuela,e.tienerecibo,e.id_escuela
from estudiante e left join escuela es on (e.id_escuela=es.id_escuela) 
left join grado g on (e.id_grado=g.id_grado)where es.nombreescuela is not null
;
REM INSERTING into RECIBO.ESCUELA
SET DEFINE OFF;
Insert into RECIBO.ESCUELA (ID_ESCUELA,NOMBREESCUELA,DIRECCIONESCUELA,TELEFONO,CORREOESCUELA) values ('1032','san juan','calle 25 #15-87','3022575805','sanjuan@gmail.com');
Insert into RECIBO.ESCUELA (ID_ESCUELA,NOMBREESCUELA,DIRECCIONESCUELA,TELEFONO,CORREOESCUELA) values ('29934','luis giraldo','casacra','3008347755','luisgiraldoqunic');
REM INSERTING into RECIBO.ESTUDIANTE
SET DEFINE OFF;
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('11066','juan','darel','m','4','29934','1','N');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('2222','kairo','poño','m','3','29934','1','S');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('1111','jairo','patiño','m','3','29934','1','N');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('1098','leonardo','acuña','M','3','29934','3','N');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('1066','neymar','jota jota','M','1','1032','3','N');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('92762','ronaldone','scris','m','22','29934','2','S');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('9347642','marisseo','yewpes','m','3','29934','2','S');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('109882','juanca','perez','M','3','1032','2','N');
Insert into RECIBO.ESTUDIANTE (ID_ESTUDIANTE,NOMBREESTUDIANTE,APELLIDOESTUDIANTE,SEXO,PERIODOESCUELA,ID_ESCUELA,ID_GRADO,TIENERECIBO) values ('934764','marieo','yewpes','m','3','29934','2','S');
REM INSERTING into RECIBO.GRADO
SET DEFINE OFF;
Insert into RECIBO.GRADO (ID_GRADO,GRUPOCURSO,GRADO_ES) values ('4','05','8');
Insert into RECIBO.GRADO (ID_GRADO,GRUPOCURSO,GRADO_ES) values ('5','06','7');
Insert into RECIBO.GRADO (ID_GRADO,GRUPOCURSO,GRADO_ES) values ('1','02','9');
Insert into RECIBO.GRADO (ID_GRADO,GRUPOCURSO,GRADO_ES) values ('2','03','10');
Insert into RECIBO.GRADO (ID_GRADO,GRUPOCURSO,GRADO_ES) values ('3','04','11');
REM INSERTING into RECIBO.HISTORIALRECIBOS
SET DEFINE OFF;
REM INSERTING into RECIBO.MATRICULA
SET DEFINE OFF;
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('23','200000',to_date('28/11/22','DD/MM/RR'),'1098');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('43','50000',to_date('28/11/22','DD/MM/RR'),'2222');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('5','77000',to_date('28/11/22','DD/MM/RR'),'92762');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('1','100000',to_date('26/11/20','DD/MM/RR'),'335');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('2','90000',to_date('26/11/20','DD/MM/RR'),'335');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('3','5000',to_date('26/11/20','DD/MM/RR'),'335');
Insert into RECIBO.MATRICULA (ID_MATRICULA,VALORMATRICULA,FECHAMATRICULA,ID_ESTUDIANTE) values ('4','55000',to_date('02/12/20','DD/MM/RR'),'934764');
REM INSERTING into RECIBO.RECIBO
SET DEFINE OFF;
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('09642',to_date('26/11/22','DD/MM/RR'),'pague hoy',to_date('28/11/22','DD/MM/RR'),to_date('26/11/22','DD/MM/RR'),'23','matricula','bancolombia','pendiente');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('094343',to_date('28/11/22','DD/MM/RR'),'pague antes de la fecha',to_date('28/12/22','DD/MM/RR'),to_date('29/12/22','DD/MM/RR'),'43','Matricula','Banco Bogota','pagado');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('5446',to_date('26/11/22','DD/MM/RR'),'pague nojoda',to_date('30/12/22','DD/MM/RR'),to_date('26/11/23','DD/MM/RR'),'1','matricula','Banco bogota','pendiente');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('8944',to_date('28/11/22','DD/MM/RR'),'zzzz',to_date('28/11/24','DD/MM/RR'),to_date('28/11/24','DD/MM/RR'),'4','Matricula','Banco Bogota','pendiente');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('4356',to_date('26/11/22','DD/MM/RR'),'pague nojoda',to_date('30/12/22','DD/MM/RR'),to_date('26/11/23','DD/MM/RR'),'2','matricula','Banco bogota','pendiente');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('4346',to_date('26/11/22','DD/MM/RR'),'pague nojoda',to_date('26/11/22','DD/MM/RR'),to_date('26/11/23','DD/MM/RR'),'3','matricula','Bancolombia','pendiente');
Insert into RECIBO.RECIBO (ID_RECIBO,FECHAIMPRESION,OBSERVACIONES,FECHALIMITE,FECHAEXTRAORDINARIA,ID_MATRICULA,CONCEPTO,BANCO,ESTADO) values ('09233',to_date('28/11/22','DD/MM/RR'),'pague antes de fecha',to_date('28/11/23','DD/MM/RR'),to_date('28/11/24','DD/MM/RR'),'5','Matricula','Banco Bogota','pendiente');
--------------------------------------------------------
--  Constraints for Table ESCUELA
--------------------------------------------------------

  ALTER TABLE "RECIBO"."ESCUELA" ADD CONSTRAINT "PK_ESCUELA" PRIMARY KEY ("ID_ESCUELA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table GRADO
--------------------------------------------------------

  ALTER TABLE "RECIBO"."GRADO" ADD CONSTRAINT "PK_GRADO" PRIMARY KEY ("ID_GRADO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ESTUDIANTE
--------------------------------------------------------

  ALTER TABLE "RECIBO"."ESTUDIANTE" ADD CONSTRAINT "PK_ESTUDIANTE" PRIMARY KEY ("ID_ESTUDIANTE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table MATRICULA
--------------------------------------------------------

  ALTER TABLE "RECIBO"."MATRICULA" ADD CONSTRAINT "PK_MATRICULA" PRIMARY KEY ("ID_MATRICULA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table RECIBO
--------------------------------------------------------

  ALTER TABLE "RECIBO"."RECIBO" ADD CONSTRAINT "PK_RECIBO" PRIMARY KEY ("ID_RECIBO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PROYECTORECIBOS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ESTUDIANTE
--------------------------------------------------------

  ALTER TABLE "RECIBO"."ESTUDIANTE" ADD CONSTRAINT "FK_GRADO" FOREIGN KEY ("ID_GRADO")
	  REFERENCES "RECIBO"."GRADO" ("ID_GRADO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table HISTORIALRECIBOS
--------------------------------------------------------

  ALTER TABLE "RECIBO"."HISTORIALRECIBOS" ADD CONSTRAINT "FK_RECIBO" FOREIGN KEY ("ID_RECIBO")
	  REFERENCES "RECIBO"."RECIBO" ("ID_RECIBO") ENABLE;
  ALTER TABLE "RECIBO"."HISTORIALRECIBOS" ADD CONSTRAINT "FK_ESTUDIANTE_RECIBO" FOREIGN KEY ("ID_ESTUDIANTE")
	  REFERENCES "RECIBO"."ESTUDIANTE" ("ID_ESTUDIANTE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table RECIBO
--------------------------------------------------------

  ALTER TABLE "RECIBO"."RECIBO" ADD CONSTRAINT "FK_MATRICULA" FOREIGN KEY ("ID_MATRICULA")
	  REFERENCES "RECIBO"."MATRICULA" ("ID_MATRICULA") ENABLE;
